(function(a){a.fn.slideBox=function(p){var f={direction:"left",duration:0.6,easing:"swing",delay:2,startIndex:0,hideClickBar:true,clickBarRadius:5,hideBottomBar:false,width:null,height:null};var d=a.extend(f,p||{});var b=a(this),h=b.children("ul.items"),o=h.find("li"),m=o.first().find("img");var j=o.size(),g=0,l=0;var e="ASC";var n=function(){if(!b.size()){return false}g=d.height?d.height:o.first().height();l=d.width?d.width:o.first().width();b.css({width:l+"px",height:g+"px"});o.css({width:l+"px",height:g+"px"});if(d.direction=="left"){h.css("width",j*l+"px")}else{h.css("height",j*g+"px")}h.find("li:eq("+d.startIndex+")").addClass("active");if(!d.hideBottomBar){var q=a('<div class="tips"></div>').css("opacity",0.6).appendTo(b);var s=a('<div class="title"></div>').html(function(){var u=h.find("li.active").find("a"),v=u.attr("title"),t=u.attr("href");return a("<a>").attr("href",t).text(v)}).appendTo(q);var r=a('<div class="nums"></div>').hide().appendTo(q);o.each(function(w,y){var t=a(y).find("a"),x=t.attr("title"),u=t.attr("href"),v="";w==d.startIndex&&(v="active");a("<a>").attr("href",u).text(x).addClass(v).css("borderRadius",d.clickBarRadius+"px").mouseover(function(){a(this).addClass("active").siblings().removeClass("active");h.find("li:eq("+a(this).index()+")").addClass("active").siblings().removeClass("active");c();k()}).appendTo(r)});if(d.hideClickBar){q.hover(function(){r.animate({top:"0px"},"fast")},function(){r.animate({top:q.height()+"px"},"fast")});r.show().delay(2000).animate({top:q.height()+"px"},"fast")}else{r.show()}}o.size()>1&&c()};var c=function(){var s=h.find("li.active"),r=s.find("a");var q=s.index();if(d.direction=="left"){offset=q*l*-1;param={left:offset+"px"}}else{offset=q*g*-1;param={top:offset+"px"}}b.find(".nums").find("a:eq("+q+")").addClass("active").siblings().removeClass("active");b.find(".title").find("a").attr("href",r.attr("href")).text(r.attr("title"));h.stop().animate(param,d.duration*1000,d.easing,function(){s.removeClass("active");if(e=="ASC"){if(s.next().size()){s.next().addClass("active")}else{e="DESC";s.prev().addClass("active")}}else{if(e=="DESC"){if(s.prev().size()){s.prev().addClass("active")}else{e="ASC";s.next().addClass("active")}}}});b.data("timeid",window.setTimeout(c,d.delay*1000))};var k=function(){window.clearTimeout(b.data("timeid"))};b.hover(function(){k()},function(){b.data("timeid",window.setTimeout(c,d.delay*1000))});var i=new Image();i.onload=function(){i.onload=null;n()};i.src=m.attr("src")}})(jQuery);